dist: trusty
sudo: required
language:
  - cpp
compiler:
  - gcc
addons:
  apt:
    sources:
      - ubuntu-toolchain-r-test
    packages:
      - g++-6
env:
  - MATRIX_EVAL="CC=gcc-6 && CXX=g++-6"
before_install:
  - eval "${MATRIX_EVAL}"
script:
  - set -e
  - mkdir "${HOME}/boost" && cd "${HOME}/boost"
  - wget "https://dl.bintray.com/boostorg/release/1.65.1/source/boost_1_65_1.tar.gz"
  - tar xzf "boost_1_65_1.tar.gz"
  - cd boost_1_65_1
  - ./bootstrap.sh --with-libraries=filesystem,test --prefix="${HOME}/local"
  - ./b2 -d0 install
  - cd
  - mkdir -p build
  - cd build
  - cmake -DBoost_NO_SYSTEM_PATHS=1 -DBOOST_ROOT="${HOME}/local" "${TRAVIS_BUILD_DIR}"
  - make
  - ./tester
  - python "${TRAVIS_BUILD_DIR}/tests/canon/run.py"
